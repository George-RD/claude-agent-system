# Project Initialization Command

This command configures Claude Code for autonomous development on a specific project. It reads PROJECT-REQUIREMENTS.md (if available) and analyzes the codebase to set up the development environment.

## Command Usage
When you run `/project-init`, Claude Code executes this initialization protocol.

## Prerequisites
- Optionally run `/prd` first to define project requirements
- PROJECT-REQUIREMENTS.md will be used if available for enhanced configuration

## Initialization Protocol

### 1. Requirements Analysis
Check for and analyze:
- PROJECT-REQUIREMENTS.md (created by `/prd` command)
- Extract technology preferences and constraints
- Identify quality requirements and success criteria

### 2. Template Cleanup
Clean up template files that are not needed for the actual project:
- Delete the root README.md file (it was only for GitHub template display)
- Remove any other template-specific files that aren't relevant

### 3. Project Analysis
Analyze the current directory to determine:
- Programming language(s) and frameworks
- Existing build system (package.json, Cargo.toml, Makefile, etc.)
- Testing framework in use
- Linting and formatting tools
- Project structure and conventions

### 4. Technology Detection
Identify the primary technology stack:

**JavaScript/TypeScript Projects:**
- Package manager: npm, yarn, pnpm
- Build tools: webpack, vite, rollup, esbuild
- Testing: jest, vitest, cypress, playwright
- Linting: eslint, typescript compiler

**Python Projects:**
- Dependency management: pip, poetry, pipenv
- Testing: pytest, unittest
- Linting: ruff, flake8, black, mypy
- Build: setuptools, poetry build

**Rust Projects:**
- Build system: cargo
- Testing: cargo test
- Linting: clippy, rustfmt
- Documentation: rustdoc

**Go Projects:**
- Module system: go.mod
- Testing: go test
- Linting: golint, staticcheck
- Formatting: gofmt

**Other Languages:**
- Java: Maven, Gradle
- C/C++: Make, CMake
- And others as detected

### 5. CLAUDE.md Enhancement
Update the project-specific section in CLAUDE.md with:

```markdown
## Project-Specific Configuration
*Generated by /project-init on [DATE]*

### Project Requirements
[Summary from PROJECT-REQUIREMENTS.md if available]

### Technology Stack
[Detected languages, frameworks, and tools]

### Build Commands
```bash
# Linting
[detected linting command]

# Type checking (if applicable)
[detected type check command]  

# Testing
[detected test command]

# Build
[detected build command]

# Development server (if applicable)
[detected dev command]
```

### Project Conventions
- [Identified code style and formatting rules]
- [Directory structure patterns]
- [Naming conventions observed]
- [Import/module organization patterns]

### Testing Strategy
- [Types of tests found: unit, integration, e2e]
- [Test file organization]
- [Mocking and fixture patterns]
- [Coverage requirements from PRD or detected patterns]

### Error Handling Patterns
- [Language-specific error handling observed]
- [Logging patterns in use]
- [Error type conventions]

### Performance Considerations
- [Build optimization settings]
- [Runtime performance patterns]
- [Performance requirements from PROJECT-REQUIREMENTS.md]

### Security Considerations
- [Dependency scanning tools]
- [Authentication patterns]
- [Input validation approaches]
- [Security requirements from PROJECT-REQUIREMENTS.md]
```

### 6. Agent Configuration
Add project-specific agent instructions:

```markdown
### Agent-Specific Instructions

#### For architect
- Follow [detected architecture patterns]
- Consider [performance requirements from PRD]
- Integrate with [existing systems/APIs]

#### For developer  
- Use [detected code style]
- Follow [testing patterns found]
- Implement [error handling style]

#### For debugger
- Use [available debugging tools]
- Check [common failure patterns in this stack]
- Profile with [detected profiling tools]

#### For quality-reviewer
- Apply [detected linting rules]
- Check [security patterns for this stack]
- Validate [performance benchmarks from PRD]

#### For technical-writer
- Use [documentation style found]
- Follow [comment conventions]
- Generate [appropriate doc formats]
```

### 7. Template Integration
Based on detected project type and requirements:
- Apply relevant template from .claude/templates/ directory
- Integrate template-specific guidance into agent instructions
- Configure quality gates based on project type

### 8. Development Environment Setup
Configure any additional development environment settings:
- IDE/editor configurations found
- Development database setup instructions
- Environment variable templates
- Local service dependencies

### 9. Project README Creation
Create a project-specific README.md file that includes:
- Project name and description based on detected configuration and requirements
- Technology stack and architecture overview
- Installation and setup instructions specific to the detected stack
- Development commands (build, test, lint, dev server)
- Project structure explanation
- Contributing guidelines appropriate for the project type
- Any specific deployment or configuration instructions from PROJECT-REQUIREMENTS.md

### 10. Autonomous Mode Preparation
Prepare the project for autonomous development:
- Validate that all build commands work
- Ensure test suite runs successfully (if tests exist)
- Check that linting passes (if linting configured)
- Verify development environment is ready

### 11. Success Confirmation
After initialization:
1. Display summary of detected configuration
2. Confirm all tools are working
3. Show next steps for autonomous development
4. Reference PROJECT-REQUIREMENTS.md if available

## Example Output
```
üöÄ Project initialized for autonomous development!

üìã Requirements Found:
- PROJECT-REQUIREMENTS.md: Task Management API with authentication

üìã Detected Configuration:
- Language: TypeScript/Node.js
- Package Manager: npm
- Testing: Jest + Supertest  
- Linting: ESLint + Prettier
- Database: PostgreSQL (from requirements)

‚úÖ Validation Complete:
- Dependencies installed
- Tests passing (12/12)
- Linting clean
- Build successful

üìù Project Files Created:
- Updated CLAUDE.md with project-specific configuration
- Created project-specific README.md with your tech stack and requirements
- Template README.md removed (was only for GitHub template display)

ü§ñ Ready for Autonomous Mode!
You can now provide implementation requests and Claude Code will use the agent pipeline to deliver tested, production-ready code based on your requirements.
```

## Implementation Notes
This command:
1. Integrates with `/prd` command output (PROJECT-REQUIREMENTS.md)
2. Analyzes the project automatically
3. Updates CLAUDE.md with detected configuration  
4. Applies appropriate templates and quality gates
5. Validates the development environment
6. Prepares for autonomous development workflow